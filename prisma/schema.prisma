generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Clients {
  id          Int        @id @default(autoincrement())
  name        String     @db.VarChar(50)
  document    String     @db.VarChar(50) //CPF OR CNPJ
  phone       String?
  client_type ClientType
  created_at  DateTime?  @default(now())
  updated_at  DateTime?
  deleted_at  DateTime?
  materials   Material[]

  @@map("clients")
}

model Material {
  id          Int              @id @default(autoincrement())
  name        String           @db.VarChar(50)
  description String           @db.LongText()
  id_client   Int
  id_category Int
  created_at  DateTime?        @default(now())
  updated_at  DateTime?
  deleted_at  DateTime?
  client      Clients           @relation(fields: [id_client], references: [id])
  category    MaterialCategory @relation(fields: [id_category], references: [id])
  tags        MaterialTags[]

  @@map("material")
}

model MaterialCategory {
  id         Int        @id @default(autoincrement())
  name       String     @db.VarChar(50)
  created_at DateTime?  @default(now())
  updated_at DateTime?
  deleted_at DateTime?
  Material   Material[]

  @@map("material_category")
}

model MaterialTags {
  id          Int       @id @default(autoincrement())
  id_material Int
  tag         String    @db.VarChar(50)
  created_at  DateTime? @default(now())
  updated_at  DateTime?
  deleted_at  DateTime?
  material    Material  @relation(fields: [id_material], references: [id])

  @@map("material_tags")
}

enum ClientType {
  PF
  PJ
}
